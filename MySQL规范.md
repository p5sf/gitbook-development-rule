# MySQL 规范

## 字段规范

- 字段名必须使用小写字母或数字，多单词采用蛇形命名法（下划线分割）
- 禁用保留字 小数类型为 decimal 如果存储的字符串长度几乎相等，使用 char 定长字符串类型。
- 表名、字段名必须使用小写字母或数字，禁止出现数字开头，表名不使用复数名词
- 字段建议加上id,create_time,update_time。
- 表达是与否概念的字段，使用is_xxx的方式命名，但OJO类中的任何布尔类型的变量，都不要加is前缀，要求在 resultMap 中进行字段与属性之间的映射。
- 尽量把所有列定义为NOT NULL。，NULL列需要一个额外字节作为判断是否为 NULL 的标志位
- 字段允许适当冗余，不是频繁修改的字段。 不是唯一索引的字段。不是 varchar 超长字段
- 表达是与否概念的字段，必须使用 is_xxx 的方式命名，数据类型是 unsigned tinyint  1表示是，0表示否)



## 索引规范

- 索引命名规范：主键索引： pk_ 字段名；唯一索引： uk _字段名 ；普通索引：idx _字段名。
- 建组合索引的时候，区分度最高的在最左边
- 利用覆盖索引来进行查询操作，避免回表
- 注意隐式转换，索引可能不生效。select * from user where userid =123;  userid 为字符串类型。默认转化整形。应带单引号
- 有 order by 的场景，注意索引的有序性。索引如果存在范围查询，那么索引有序性无法利用,如果必要请把索引放在最后



## 语句规范

- 超过三个表禁止 join。需要 join 的字段，数据类型保持绝对一致；多表关联查询时，保证被关联的字段需要有索引。
- 不要使用 count(列名)或 count(常量)来替代 count(*)，count(*)会统计值为 NULL 的行，而 count(列名)不会统计此列为 NULL 值的行。
- 代码中写分页查询逻辑时，若 count 为 0 应直接返回，避免执行后面的分页语句。
- 不得使用外键与级联，一切外键概念必须在应用层解决
- 数据订正（特别是删除或修改记录操作）时，要先 select，避免出现误删除，确认无误才能执行更新语句